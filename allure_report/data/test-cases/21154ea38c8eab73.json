{"uid":"21154ea38c8eab73","name":"Проверка, что заказ пользователя из раздела «История заказов» отображается на странице «Лента заказов»","fullName":"tests.test_order_list.TestOrderList#test_users_orders_displayed_in_orders_list_true","historyId":"69668d5bb5657acda9e9109151fe52a5","time":{"start":1721387424965,"stop":1721387443795,"duration":18830},"description":"Авторизуем тестового пользователя, делаем заказ, фиксируем номер заказа, переходим в Личный Кабинет, переходим в Историю заказов, ожидаем созданный заказ последним в Истории, переходим в Ленту заказов,ожидаем создланный заказ в Ленте Заказов","descriptionHtml":"<p>Авторизуем тестового пользователя, делаем заказ, фиксируем номер заказа, переходим в Личный Кабинет, переходим в Историю заказов, ожидаем созданный заказ последним в Истории, переходим в Ленту заказов,ожидаем создланный заказ в Ленте Заказов</p>\n","status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:193:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:511:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16","statusTrace":"self = <tests.test_order_list.TestOrderList object at 0x000002E487B2F830>, driver = <selenium.webdriver.firefox.webdriver.WebDriver (session=\"cc285b4c-8f83-48f9-931d-d6300d1f15e1\")>\ncreate_and_delete_user = (<Response [200]>, {'email': 'azari70@example.net', 'name': 'Любомир Фомич Брагин', 'password': 'gbjbso'})\n\n    @allure.title('Проверка, что заказ пользователя из раздела «История заказов» '\n                  'отображается на странице «Лента заказов»')\n    @allure.description('Авторизуем тестового пользователя, делаем заказ, фиксируем номер заказа, переходим в '\n                        'Личный Кабинет, переходим в Историю заказов, ожидаем созданный заказ последним в Истории, '\n                        'переходим в Ленту заказов,ожидаем создланный заказ в Ленте Заказов')\n    def test_users_orders_displayed_in_orders_list_true(self, driver, create_and_delete_user):\n        # предусловие: авторизация пользователя перед совершением заказа\n        response, payload = create_and_delete_user\n        email_value = payload['email']\n        password_value = payload['password']\n        login_page = LoginPage(driver)\n        login_page.login_user(email_value, password_value)\n        # предусловие: создание заказа\n        home_page = HomePage(driver)\n        home_page.finish_modal_loading()\n        order_number = f'#0{home_page.make_an_order_remember_number_close_popup_window()}'\n        # шаги\n        home_page.finish_modal_loading()\n        home_page.go_to_personal_account()\n        personal_ac_page = PersonalAccount(driver)\n        personal_ac_page.open_orders_history()\n>       order_number_in_history = personal_ac_page.find_last_order()\n\ntests\\test_order_list.py:134: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage_objects\\personal_account_page.py:16: in find_last_order\n    last_order = self.wait_and_find_element(PersonalAccountLocators.LAST_CREATED_BURGER)\npage_objects\\base_page.py:17: in wait_and_find_element\n    WebDriverWait(self.driver, 5).until(expected_conditions.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"cc285b4c-8f83-48f9-931d-d6300d1f15e1\")>, method = <function visibility_of_element_located.<locals>._predicate at 0x000002E487B7B240>, message = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       RemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nE       WebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:193:5\nE       NoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:511:5\nE       dom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16\n\nvenv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py:105: TimeoutException","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1721387092165,"stop":1721387092222,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"driver","time":{"start":1721387418043,"stop":1721387424610,"duration":6567},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"create_and_delete_user","time":{"start":1721387424611,"stop":1721387424964,"duration":353},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"description":"Авторизуем тестового пользователя, делаем заказ, фиксируем номер заказа, переходим в Личный Кабинет, переходим в Историю заказов, ожидаем созданный заказ последним в Истории, переходим в Ленту заказов,ожидаем создланный заказ в Ленте Заказов","status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:193:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:511:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16","statusTrace":"self = <tests.test_order_list.TestOrderList object at 0x000002E487B2F830>, driver = <selenium.webdriver.firefox.webdriver.WebDriver (session=\"cc285b4c-8f83-48f9-931d-d6300d1f15e1\")>\ncreate_and_delete_user = (<Response [200]>, {'email': 'azari70@example.net', 'name': 'Любомир Фомич Брагин', 'password': 'gbjbso'})\n\n    @allure.title('Проверка, что заказ пользователя из раздела «История заказов» '\n                  'отображается на странице «Лента заказов»')\n    @allure.description('Авторизуем тестового пользователя, делаем заказ, фиксируем номер заказа, переходим в '\n                        'Личный Кабинет, переходим в Историю заказов, ожидаем созданный заказ последним в Истории, '\n                        'переходим в Ленту заказов,ожидаем создланный заказ в Ленте Заказов')\n    def test_users_orders_displayed_in_orders_list_true(self, driver, create_and_delete_user):\n        # предусловие: авторизация пользователя перед совершением заказа\n        response, payload = create_and_delete_user\n        email_value = payload['email']\n        password_value = payload['password']\n        login_page = LoginPage(driver)\n        login_page.login_user(email_value, password_value)\n        # предусловие: создание заказа\n        home_page = HomePage(driver)\n        home_page.finish_modal_loading()\n        order_number = f'#0{home_page.make_an_order_remember_number_close_popup_window()}'\n        # шаги\n        home_page.finish_modal_loading()\n        home_page.go_to_personal_account()\n        personal_ac_page = PersonalAccount(driver)\n        personal_ac_page.open_orders_history()\n>       order_number_in_history = personal_ac_page.find_last_order()\n\ntests\\test_order_list.py:134: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npage_objects\\personal_account_page.py:16: in find_last_order\n    last_order = self.wait_and_find_element(PersonalAccountLocators.LAST_CREATED_BURGER)\npage_objects\\base_page.py:17: in wait_and_find_element\n    WebDriverWait(self.driver, 5).until(expected_conditions.visibility_of_element_located(locator))\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <selenium.webdriver.support.wait.WebDriverWait (session=\"cc285b4c-8f83-48f9-931d-d6300d1f15e1\")>, method = <function visibility_of_element_located.<locals>._predicate at 0x000002E487B7B240>, message = ''\n\n    def until(self, method: Callable[[D], Union[Literal[False], T]], message: str = \"\") -> T:\n        \"\"\"Calls the method provided with the driver as an argument until the \\\n        return value does not evaluate to ``False``.\n    \n        :param method: callable(WebDriver)\n        :param message: optional message for :exc:`TimeoutException`\n        :returns: the result of the last call to `method`\n        :raises: :exc:`selenium.common.exceptions.TimeoutException` if timeout occurs\n        \"\"\"\n        screen = None\n        stacktrace = None\n    \n        end_time = time.monotonic() + self._timeout\n        while True:\n            try:\n                value = method(self._driver)\n                if value:\n                    return value\n            except self._ignored_exceptions as exc:\n                screen = getattr(exc, \"screen\", None)\n                stacktrace = getattr(exc, \"stacktrace\", None)\n            time.sleep(self._poll)\n            if time.monotonic() > end_time:\n                break\n>       raise TimeoutException(message, screen, stacktrace)\nE       selenium.common.exceptions.TimeoutException: Message: \nE       Stacktrace:\nE       RemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nE       WebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:193:5\nE       NoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:511:5\nE       dom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16\n\nvenv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py:105: TimeoutException","steps":[{"name":"Авторизация пользователя","time":{"start":1721387424965,"stop":1721387426025,"duration":1060},"status":"passed","steps":[{"name":"Ожидание закрытия модального окна загрузки","time":{"start":1721387425206,"stop":1721387425732,"duration":526},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Вводим логин","time":{"start":1721387425733,"stop":1721387425788,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"email_value","value":"'azari70@example.net'"}],"attachmentStep":false,"stepsCount":0,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Вводим пароль","time":{"start":1721387425788,"stop":1721387425803,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"password_value","value":"'gbjbso'"}],"attachmentStep":false,"stepsCount":0,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[{"name":"email_value","value":"'azari70@example.net'"},{"name":"password_value","value":"'gbjbso'"}],"attachmentStep":false,"stepsCount":3,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Ожидание закрытия модального окна загрузки","time":{"start":1721387426026,"stop":1721387426537,"duration":511},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Делаем заказ, запоминаем номер заказа и закрываем всплывающее окно","time":{"start":1721387426537,"stop":1721387438271,"duration":11734},"status":"passed","steps":[{"name":"Делаем заказ","time":{"start":1721387426537,"stop":1721387427860,"duration":1323},"status":"passed","steps":[{"name":"Находим заголовок секции \"Конструктор\"","time":{"start":1721387426537,"stop":1721387426543,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Перетаскиваем тестовую булочку в область формирования бургера","time":{"start":1721387426543,"stop":1721387427088,"duration":545},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Перетаскиваем тестовый ингредиент в область формирования бургера","time":{"start":1721387427088,"stop":1721387427644,"duration":556},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":3,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Ожидание закрытия модального окна загрузки","time":{"start":1721387427861,"stop":1721387427868,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Находим номер заказа в высплывающем окне","time":{"start":1721387427868,"stop":1721387438022,"duration":10154},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Ожидание закрытия модального окна загрузки","time":{"start":1721387438027,"stop":1721387438034,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Закрываем всплывающее окно с информацией о заказе","time":{"start":1721387438034,"stop":1721387438271,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":8,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Ожидание закрытия модального окна загрузки","time":{"start":1721387438271,"stop":1721387438275,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Переходим в личный кабинет по кнопке в хэдере","time":{"start":1721387438276,"stop":1721387438515,"duration":239},"status":"passed","steps":[{"name":"Ожидание закрытия модального окна загрузки","time":{"start":1721387438510,"stop":1721387438515,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":1,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Открываем историю заказов","time":{"start":1721387438515,"stop":1721387438759,"duration":244},"status":"passed","steps":[{"name":"Ожидание закрытия модального окна загрузки","time":{"start":1721387438515,"stop":1721387438521,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":1,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"Находим номер последнего сделанного заказа","time":{"start":1721387438759,"stop":1721387443793,"duration":5034},"status":"broken","statusMessage":"selenium.common.exceptions.TimeoutException: Message: \nStacktrace:\nRemoteError@chrome://remote/content/shared/RemoteError.sys.mjs:8:8\nWebDriverError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:193:5\nNoSuchElementError@chrome://remote/content/shared/webdriver/Errors.sys.mjs:511:5\ndom.find/</<@chrome://remote/content/shared/DOM.sys.mjs:136:16\n\n","statusTrace":"  File \"G:\\study_stuff\\Diplom\\Diplom_3\\venv\\Lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"G:\\study_stuff\\Diplom\\Diplom_3\\page_objects\\personal_account_page.py\", line 16, in find_last_order\n    last_order = self.wait_and_find_element(PersonalAccountLocators.LAST_CREATED_BURGER)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"G:\\study_stuff\\Diplom\\Diplom_3\\page_objects\\base_page.py\", line 17, in wait_and_find_element\n    WebDriverWait(self.driver, 5).until(expected_conditions.visibility_of_element_located(locator))\n  File \"G:\\study_stuff\\Diplom\\Diplom_3\\venv\\Lib\\site-packages\\selenium\\webdriver\\support\\wait.py\", line 105, in until\n    raise TimeoutException(message, screen, stacktrace)\n","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":true}],"attachments":[{"uid":"628963a47ea15cff","name":"stdout","source":"628963a47ea15cff.txt","type":"text/plain","size":195}],"parameters":[],"attachmentStep":false,"stepsCount":20,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":true},"afterStages":[{"name":"create_and_delete_user::0","time":{"start":1721387443886,"stop":1721387444341,"duration":455},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"driver::0","time":{"start":1721387444342,"stop":1721387446993,"duration":2651},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_order_list"},{"name":"subSuite","value":"TestOrderList"},{"name":"host","value":"DESKTOP-HJQ59IS"},{"name":"thread","value":"9516-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_order_list"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"driver","value":"'firefox'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"21154ea38c8eab73.json","parameterValues":["'firefox'"]}